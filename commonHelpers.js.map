{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nexport function searchImage(query) {\n    const baseUrl = \"https://pixabay.com/api/\";\n    const params = new URLSearchParams({\n        key: \"44056187-241b6d2c7b447ed7c2385a3f0\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n    const url = `${baseUrl}?${params}`;\n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText)\n            }\n            return response.json();\n        })\n        .then(data => data.hits)\n        .catch(error => {\n            console.log(\"catch\", error);\n            return [];\n        });\n}","'use strict';\nexport const gallery = document.querySelector(\".gallery\");\n\nexport function renderImages(images) {\n    const imageMarkup = images.map(image => `<li class=\"gallery-item\">\n        <a href=\"${image.largeImageURL}\" class=\"image-card\">\n            <div class=\"container\">\n                <img\n                    src=\"${image.webformatURL}\" \n                    alt=\"${image.tags}\"\n                />\n            </div>\n            <div class=\"description\">\n                <p class=\"info\">\n                    <span class=\"label\">Likes:</span>\n                    <span class=\"value\">${image.likes}</span>\n                </p>\n                <p class=\"info\">\n                    <span class=\"label\">Views:</span>\n                    <span class=\"value\">${image.views}</span>\n                </p>\n                <p class=\"info\">\n                    <span class=\"label\">Comments:</span>\n                    <span class=\"value\">${image.comments}</span>\n                </p>\n                <p class=\"info\">\n                    <span class=\"label\">Downloads:</span>\n                    <span class=\"value\">${image.downloads}</span>\n                </p> \n            </div>\n        </a>\n    </li>`)\n        .join(\"\");\n    gallery.innerHTML = imageMarkup;\n}\n","'use strict';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport axios from 'axios';\n\n\nimport { searchImage } from \"./js/pixabay-api.js\"\nimport { gallery, renderImages } from \"./js/render-functions.js\"\n\nconst form = document.querySelector(\".form\");\nconst formInput = document.querySelector(\".form-input\");\nconst loader = document.querySelector(\".loader\");\n\nform.addEventListener(\"submit\", handleSubmit);\nfunction handleSubmit(event) {\n    event.preventDefault();\n    const query = formInput.value.trim(); //те, що ввидиться в інпут користувачем...інакше event.target.elements.query.value.trim()\n    if (!query) {\n        iziToast.show({\n            message: 'Please enter data',\n            backgroundColor: '#ffa000',\n            messageSize: '16px',\n            messageColor: '#fafafb',\n            messageLineHeight: '150%',\n            position: 'topRight',\n        });\n        return;\n    }\n    gallery.innerHTML = \"\";\n    showLoader();\n    searchImage(query)\n        .then(images => {\n            if (images.length === 0) {\n                iziToast.show({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    backgroundColor: '#ef4040',\n                    messageSize: '16px',\n                    messageColor: '#fafafb',\n                    messageLineHeight: '150%',\n                    position: 'topRight',\n                });\n            } else {\n                renderImages(images);\n                const lightbox = new SimpleLightbox('.gallery a', {\n                    captionsData: 'alt',\n                    captionDelay: 250,\n                });\n                lightbox.refresh();\n            }\n        })\n        .catch(error => {\n            console.log(\"catch\", error);\n        })\n        .finally(() => {\n            hideLoader();\n            form.reset();\n        });\n}\n\nfunction showLoader() {\n    loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none';\n}\n\n\n\n\n\n\n"],"names":["searchImage","query","baseUrl","params","url","response","data","error","gallery","renderImages","images","imageMarkup","image","form","formInput","loader","handleSubmit","event","iziToast","showLoader","SimpleLightbox","hideLoader"],"mappings":"6vBAEO,SAASA,EAAYC,EAAO,CAC/B,MAAMC,EAAU,2BACVC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKG,EAAM,GAAGF,CAAO,IAAIC,CAAM,GAChC,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,IACH,QAAQ,IAAI,QAASA,CAAK,EACnB,GACV,CACT,CCvBO,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAcD,EAAO,IAAIE,GAAS;AAAA,mBACzBA,EAAM,aAAa;AAAA;AAAA;AAAA,2BAGXA,EAAM,YAAY;AAAA,2BAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAMKA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,0CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,UAI/C,EACD,KAAK,EAAE,EACZJ,EAAQ,UAAYG,CACxB,CCvBA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAY,EAC5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMhB,EAAQa,EAAU,MAAM,KAAI,EAClC,GAAI,CAACb,EAAO,CACRiB,EAAS,KAAK,CACV,QAAS,oBACT,gBAAiB,UACjB,YAAa,OACb,aAAc,UACd,kBAAmB,OACnB,SAAU,UACtB,CAAS,EACD,MACH,CACDV,EAAQ,UAAY,GACpBW,IACAnB,EAAYC,CAAK,EACZ,KAAKS,GAAU,CACRA,EAAO,SAAW,EAClBQ,EAAS,KAAK,CACV,QAAS,2EACT,gBAAiB,UACjB,YAAa,OACb,aAAc,UACd,kBAAmB,OACnB,SAAU,UAC9B,CAAiB,GAEDT,EAAaC,CAAM,EACF,IAAIU,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClC,CAAiB,EACQ,QAAO,EAEhC,CAAS,EACA,MAAMb,GAAS,CACZ,QAAQ,IAAI,QAASA,CAAK,CACtC,CAAS,EACA,QAAQ,IAAM,CACXc,IACAR,EAAK,MAAK,CACtB,CAAS,CACT,CAEA,SAASM,GAAa,CAClBJ,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASM,GAAa,CAClBN,EAAO,MAAM,QAAU,MAC3B"}